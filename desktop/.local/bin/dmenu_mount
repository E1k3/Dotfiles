#!/usr/bin/zsh

mountable="$(lsblk -npro NAME,SIZE,TYPE,MOUNTPOINTS | sed '/part $/!d;s/\s\+part $//')"
[[ "$mountable" == "" ]] && exit 1;
device="$(echo $mountable | dmenu -i -p 'Select device' | sed 's/\s\S\+$//')"
target="$(find /run/media/$USER $HOME -maxdepth 2 -type d -empty | dmenu -i -p 'Select target')"
if [[ ! -d "$target" ]] {
	mkdir "$target"
}
mount $device $target
